
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.kubestellar.io/main/en/Coding%20Milestones/PoC2023q1/commands/">
      
      
        <link rel="prev" href="../environments/dev-env/">
      
      
        <link rel="next" href="../../PoC2023q4/outline/">
      
      <link rel="icon" href="../../../../favicons/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.0">
    
    
      
        <title>Commands - KubeStellar</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.402914a4.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=SapceMono:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"SapceMono";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/kubestellar.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-SR5TD1CXY7"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-SR5TD1CXY7",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-SR5TD1CXY7",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  <meta name="google-site-verification" content="QZFIkG95fMxODWgQDK2OUn73HUIu9fZmuTer-ZA4UwI" />

  <!-- Determine title -->
  
  
    
  

  <!-- The image needs to have an absolute URL -->
  

  <!-- Open graph meta tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="KubeStellar - Commands" />
  <meta property="og:description" content="None" />
  <meta property="og:url" content="https://docs.kubestellar.io/main/en/Coding%20Milestones/PoC2023q1/commands/" />
  <meta property="og:image" content="https://docs.kubestellar.io/mainassets/images/illustrations/banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="568" />

  <!-- google-site-verification meta-tag -->
  <meta name="google-site-verification" content="-Rj8YMCn9uu5IwOFdC-WfAzXp4ZOMJtYKxU40ZgcJIU" />

<!-- Extra stylesheets -->
<!--  <link
    rel="stylesheet"
    href="../../../../assets/stylesheets/overrides.css"
  />-->

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment-style" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <!-- Extra stylesing -->
  <style>
      .md-announce a,
      .md-announce a:focus,
      .md-announce a:hover{color:currentColor}.md-announce
      strong{white-space:nowrap}.md-announce
  </style>

<!--   
  <a href="https://www.linkedin.com/feed/hashtag/?keywords=kubestellar">
  <p style="color: #D5EE1C">For updates follow <strong style="color: #D5EE1C">@kubestellar</strong> on
    <strong style="color: white">LinkedIn</strong>
  </p>
</a> 
-->

<a href="https://www.linkedin.com/feed/hashtag/?keywords=kubestellar">
  <p style="color: #D5EE1C">KubeStellar is now a <strong style="color: #D5EE1C">Cloud Native Computing Foundation (CNCF) Sanbox Project</strong>. Follow us <strong style="color: #D5EE1C">@kubestellar</strong> on
    <strong style="color: white">LinkedIn</strong>
  </p>
</a>


          </div>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the stable release.
  <a href="../latest/../../../..">
    <strong>Click here to go to the stable release</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../" title="KubeStellar" class="md-header__button md-logo" aria-label="KubeStellar" data-md-component="logo">
      
  <img src="../../../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KubeStellar
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Commands
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kubestellar/kubestellar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Getting-Started/user-quickstart-kind/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Contribution%20guidelines/CONTRIBUTING/" class="md-tabs__link">
        Contributing
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../outline/" class="md-tabs__link md-tabs__link--active">
        Coding Milestones
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../Community/_index/" class="md-tabs__link">
        Community
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://medium.com/@kubestellar/list/predefined:e785a0675051:READING_LIST" target="_blank" class="md-tabs__link">
      Blog
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../" title="KubeStellar" class="md-nav__button md-logo" aria-label="KubeStellar" data-md-component="logo">
      
  <img src="../../../../logo.png" alt="logo">

    </a>
    KubeStellar
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kubestellar/kubestellar" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">Home</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../readme/" class="md-nav__link">
        Readme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/user-quickstart-kind/" class="md-nav__link">
        Quickstart using Kind
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/user-quickstart-openshift/" class="md-nav__link">
        Quickstart using OpenShift
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/user-quickstart-kind/" class="md-nav__link">
        Quickstart using Kind
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/user-quickstart-openshift/" class="md-nav__link">
        Quickstart using OpenShift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/user-quickstart-test/" class="md-nav__link">
        Quickstart for testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/quickstart/" class="md-nav__link">
        Detailed QuickStart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example1/" class="md-nav__link">
        Extended Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/user-guide/" class="md-nav__link">
        User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Getting-Started/infomercial/" class="md-nav__link">
        KubeStellar - The Infomercial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/CONTRIBUTING/" class="md-nav__link">
        Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/coc/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/LICENSE/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/governance/" class="md-nav__link">
        Governance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/onboarding/" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/security/security/" class="md-nav__link">
        Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/security/security_contacts/" class="md-nav__link">
        Contacts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
          Operations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Operations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/operations/code-management/" class="md-nav__link">
        Code Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/operations/packaging-and-versioning/" class="md-nav__link">
        Packaging and Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/operations/release-management/" class="md-nav__link">
        Release Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/operations/document-management/" class="md-nav__link">
        Document Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Contribution%20guidelines/operations/testing-doc-prs/" class="md-nav__link">
        Testing Documentation PRs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Coding Milestones
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Coding Milestones
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          PoC2023q1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          PoC2023q1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../outline/" class="md-nav__link">
        Details
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../coding-milestone-invite-q1/" class="md-nav__link">
        Invitation to Contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubestellar-syncer/" class="md-nav__link">
        KubeStellar-Syncer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example1/" class="md-nav__link">
        Extended Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1_5" id="__nav_4_1_5_label" tabindex="0">
          KubeStellar Processes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_5">
          <span class="md-nav__icon md-icon"></span>
          KubeStellar Processes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../where-resolver/" class="md-nav__link">
        KubeStellar Where Resolver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mailbox-controller/" class="md-nav__link">
        KubeStellar Mailbox Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../placement-translator/" class="md-nav__link">
        KubeStellar Placement Translator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap-uses/" class="md-nav__link">
        Use Cases Affecting the Roadmap for PoC2023q1
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_7" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1_7" id="__nav_4_1_7_label" tabindex="0">
          Environments
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_7">
          <span class="md-nav__icon md-icon"></span>
          Environments
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environments/_index/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environments/cloud-env/" class="md-nav__link">
        Cloud Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../environments/dev-env/" class="md-nav__link">
        Developer Environment
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_8" checked>
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_1_8" id="__nav_4_1_8_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_8_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_1_8">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Commands
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deployment-style" class="md-nav__link">
    Deployment style
  </a>
  
    <nav class="md-nav" aria-label="Deployment style">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-cluster" class="md-nav__link">
    In-cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#os-namespace-consistency" class="md-nav__link">
    OS namespace consistency
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bare-process-deployment" class="md-nav__link">
    Bare process deployment
  </a>
  
    <nav class="md-nav" aria-label="Bare process deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kcp-process-control" class="md-nav__link">
    kcp process control
  </a>
  
    <nav class="md-nav" aria-label="kcp process control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubestellar-ensure-kcp-server-creds" class="md-nav__link">
    kubestellar-ensure-kcp-server-creds
  </a>
  
    <nav class="md-nav" aria-label="kubestellar-ensure-kcp-server-creds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubestellar-ensure-kcp-server-creds-pre-reqs" class="md-nav__link">
    kubestellar-ensure-kcp-server-creds pre-reqs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-ensure-kcp-server-creds-usage" class="md-nav__link">
    kubestellar-ensure-kcp-server-creds usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-and-switch-domain" class="md-nav__link">
    wait-and-switch-domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-domain" class="md-nav__link">
    switch-domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-process-control" class="md-nav__link">
    KubeStellar process control
  </a>
  
    <nav class="md-nav" aria-label="KubeStellar process control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubestellar-init" class="md-nav__link">
    Kubestellar init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-start" class="md-nav__link">
    KubeStellar start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-stop" class="md-nav__link">
    KubeStellar stop
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-into-a-kubernetes-cluster" class="md-nav__link">
    Deployment into a Kubernetes cluster
  </a>
  
    <nav class="md-nav" aria-label="Deployment into a Kubernetes cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-to-cluster" class="md-nav__link">
    Deploy to cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-a-log-from-a-kubestellar-runtime-container" class="md-nav__link">
    Fetch a log from a KubeStellar runtime container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-deployment-to-a-kubernetes-cluster" class="md-nav__link">
    Remove deployment to a Kubernetes cluster
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-platform-user-commands" class="md-nav__link">
    KubeStellar platform user commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-release" class="md-nav__link">
    KubeStellar-release
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-version" class="md-nav__link">
    Kubestellar-version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-an-inventory-space" class="md-nav__link">
    Creating an Inventory Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-synctargetlocation-pairs" class="md-nav__link">
    Creating SyncTarget/Location pairs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-synctargetlocation-pairs" class="md-nav__link">
    Removing SyncTarget/Location pairs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-a-kubeconfig-of-a-given-space" class="md-nav__link">
    Getting a kubeconfig of a given space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncer-preparation-and-installation" class="md-nav__link">
    Syncer preparation and installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncer-removal" class="md-nav__link">
    Syncer removal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workload-execution-cluster-on-boarding" class="md-nav__link">
    Workload execution cluster on-boarding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-workload-description-space" class="md-nav__link">
    Creating a Workload Description Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-a-workload-description-space" class="md-nav__link">
    Removing a Workload Description Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-list-syncing-objects" class="md-nav__link">
    kubestellar-list-syncing-objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap" class="md-nav__link">
    Bootstrap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#internal-commands" class="md-nav__link">
    Internal commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-kube-bind" class="md-nav__link">
    kubestellar-kube-bind
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensure-the-existence-of-a-space" class="md-nav__link">
    Ensure the existence of a space
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          PoC2023q4
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          PoC2023q4
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../PoC2023q4/outline/" class="md-nav__link">
        Details
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Community
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/_index/" class="md-nav__link">
        Get Involved
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.kubestellar.io/main/Contribution%20guidelines/CONTRIBUTING/" class="md-nav__link">
        Contributor Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          Contact Us
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Contact Us
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://kubestellar.io/join_us" class="md-nav__link">
        Mailing List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://kubestellar.io/agenda" class="md-nav__link">
        Community Meeting Agenda (join mailing list first)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://kubestellar.io/slack" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://kubestellar.io/blog" class="md-nav__link">
        Medium Blog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://kubestellar.io/tv" class="md-nav__link">
        YouTube Channel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://kubestellar.io/linkedin" class="md-nav__link">
        LinkedIn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://www.reddit.com/r/kubestellar/" class="md-nav__link">
        Reddit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://drive.google.com/drive/u/1/folders/1p68MwkX0sYdTvtup0DcnAEsnXElobFLS" class="md-nav__link">
        Google Drive
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
          Partners
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Partners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/partners/argocd/" class="md-nav__link">
        ArgoCD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/partners/turbonomic/" class="md-nav__link">
        Turbonomic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/partners/mvi/" class="md-nav__link">
        MVI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/partners/fluxcd/" class="md-nav__link">
        FluxCD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/partners/openziti/" class="md-nav__link">
        OpenZiti
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Community/partners/kyverno/" class="md-nav__link">
        Kyverno
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://medium.com/@kubestellar/list/predefined:e785a0675051:READING_LIST" target="_blank" class="md-nav__link">
        Blog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deployment-style" class="md-nav__link">
    Deployment style
  </a>
  
    <nav class="md-nav" aria-label="Deployment style">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-cluster" class="md-nav__link">
    In-cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#os-namespace-consistency" class="md-nav__link">
    OS namespace consistency
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bare-process-deployment" class="md-nav__link">
    Bare process deployment
  </a>
  
    <nav class="md-nav" aria-label="Bare process deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kcp-process-control" class="md-nav__link">
    kcp process control
  </a>
  
    <nav class="md-nav" aria-label="kcp process control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubestellar-ensure-kcp-server-creds" class="md-nav__link">
    kubestellar-ensure-kcp-server-creds
  </a>
  
    <nav class="md-nav" aria-label="kubestellar-ensure-kcp-server-creds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubestellar-ensure-kcp-server-creds-pre-reqs" class="md-nav__link">
    kubestellar-ensure-kcp-server-creds pre-reqs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-ensure-kcp-server-creds-usage" class="md-nav__link">
    kubestellar-ensure-kcp-server-creds usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait-and-switch-domain" class="md-nav__link">
    wait-and-switch-domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-domain" class="md-nav__link">
    switch-domain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-process-control" class="md-nav__link">
    KubeStellar process control
  </a>
  
    <nav class="md-nav" aria-label="KubeStellar process control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubestellar-init" class="md-nav__link">
    Kubestellar init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-start" class="md-nav__link">
    KubeStellar start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubestellar-stop" class="md-nav__link">
    KubeStellar stop
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-into-a-kubernetes-cluster" class="md-nav__link">
    Deployment into a Kubernetes cluster
  </a>
  
    <nav class="md-nav" aria-label="Deployment into a Kubernetes cluster">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy-to-cluster" class="md-nav__link">
    Deploy to cluster
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-a-log-from-a-kubestellar-runtime-container" class="md-nav__link">
    Fetch a log from a KubeStellar runtime container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-deployment-to-a-kubernetes-cluster" class="md-nav__link">
    Remove deployment to a Kubernetes cluster
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-platform-user-commands" class="md-nav__link">
    KubeStellar platform user commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-release" class="md-nav__link">
    KubeStellar-release
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-version" class="md-nav__link">
    Kubestellar-version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-an-inventory-space" class="md-nav__link">
    Creating an Inventory Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-synctargetlocation-pairs" class="md-nav__link">
    Creating SyncTarget/Location pairs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-synctargetlocation-pairs" class="md-nav__link">
    Removing SyncTarget/Location pairs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-a-kubeconfig-of-a-given-space" class="md-nav__link">
    Getting a kubeconfig of a given space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncer-preparation-and-installation" class="md-nav__link">
    Syncer preparation and installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncer-removal" class="md-nav__link">
    Syncer removal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workload-execution-cluster-on-boarding" class="md-nav__link">
    Workload execution cluster on-boarding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-workload-description-space" class="md-nav__link">
    Creating a Workload Description Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-a-workload-description-space" class="md-nav__link">
    Removing a Workload Description Space
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-list-syncing-objects" class="md-nav__link">
    kubestellar-list-syncing-objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bootstrap" class="md-nav__link">
    Bootstrap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#internal-commands" class="md-nav__link">
    Internal commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubestellar-kube-bind" class="md-nav__link">
    kubestellar-kube-bind
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ensure-the-existence-of-a-space" class="md-nav__link">
    Ensure the existence of a space
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/kubestellar/kubestellar/edit/main/docs/content/Coding Milestones/PoC2023q1/commands.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/kubestellar/kubestellar/raw/main/docs/content/Coding Milestones/PoC2023q1/commands.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>Commands</h1>

<p>This PoC includes two sorts of commands for users to use. Most are
executables designed to be accessed in the usual ways: by appearing in
a directory on the user's <code>$PATH</code> or by the user writing a pathname
for the executable on the command line. The one exception is <a href="#bootstrap">the
bootstrap script</a>, which is designed to be fetched from
github and fed directly into <code>bash</code>.</p>
<p>This document describes both commands that a platform administrator
uses and commands that a platform user uses.</p>
<h2 id="deployment-style">Deployment style<a class="headerlink" href="#deployment-style" title="Permanent link">#</a></h2>
<p>There normal way of deploying the space framework, a space provider,
and the central KubeStellar controllers is as workload in a Kubernetes
(possibly OpenShift) cluster.  Contributors may instead run the Space
Manager, possibly space provider (dependening on the provider), and
KubeStellar central controllers as bare processes on a machine of
supported OS and ISA. Even in this case a Kubernetes cluster is
required, at least to hold the Space Management API objects; this role
is called the Space Management API Space (SMAS). The KubeFlex space
provider must be deployed in a cluster, which is called the KubeFlex
hosting cluster. That cluster can also play the SMAS role.</p>
<h3 id="in-cluster">In-cluster<a class="headerlink" href="#in-cluster" title="Permanent link">#</a></h3>
<p>Some commands take an optional flag <code>--in-cluster</code> that is about the
networking relationship between (a) that running command and (b) the
apiserver(s) for the space(s) that the command accesses. This flag can
be used when both (a) and (b) are in the same Kubernetes cluster. This
flag can also be used when both (a) and (b) are <em>not</em> in a Kubernetes
cluster but rather are bare processes on the same machine. Omitting
this flag means that the running command will use the more general way
of addressing the apiserver(s), which is functional in more situations
but possibly less efficient.</p>
<h3 id="os-namespace-consistency">OS namespace consistency<a class="headerlink" href="#os-namespace-consistency" title="Permanent link">#</a></h3>
<p>For some of the commands, all of them must always be invoked in the
context of the same filesystem, working directory, and process
space. This is a point-in-time limitation due to the way kube-bind
konnectors are launched. The relevant commands are as follows.</p>
<ul>
<li><code>kubectl kubestellar ensure inventory-space</code></li>
<li><code>kubectl kubestellar ensure wmw</code></li>
<li><code>kubestellar</code> (which is also constrained because <code>start</code> and <code>stop</code>
  are implemented by ordinary commands, no remote agent is involved)</li>
<li><code>kubestellar-kube-bind</code></li>
</ul>
<h2 id="bare-process-deployment">Bare process deployment<a class="headerlink" href="#bare-process-deployment" title="Permanent link">#</a></h2>
<h3 id="kcp-process-control">kcp process control<a class="headerlink" href="#kcp-process-control" title="Permanent link">#</a></h3>
<p>KubeStellar has some commands to support situations in which some
clients of the kcp server need to connect to it by opening a
connection to a DNS domain name rather than an IP address that the
server can bind its socket to.  The key idea is using the
<code>--tls-sni-cert-key</code> command line flag of <code>kcp start</code> to configure the
server to respond with a bespoke server certificate in TLS handshakes
in which the client addresses the server by a given domain name.</p>
<p>These commands are used separately from starting the kcp server and
are designed so that they can be used multiple times if there are
multiple sets of clients that need to use a distinct domain name.
Starting the kcp server is not described here, beyond the particular
consideration needed for the <code>--tls-sni-cert-key</code> flag, because it is
otherwise ordinary.</p>
<h4 id="kubestellar-ensure-kcp-server-creds">kubestellar-ensure-kcp-server-creds<a class="headerlink" href="#kubestellar-ensure-kcp-server-creds" title="Permanent link">#</a></h4>
<h5 id="kubestellar-ensure-kcp-server-creds-pre-reqs">kubestellar-ensure-kcp-server-creds pre-reqs<a class="headerlink" href="#kubestellar-ensure-kcp-server-creds-pre-reqs" title="Permanent link">#</a></h5>
<p>The <code>kubestellar-ensure-kcp-server-creds</code> command requires that
Easy-RSA is installed.  As outlined in
https://easy-rsa.readthedocs.io/en/latest/#obtaining-and-using-easy-rsa,
this involves selecting a release archive from <a href="https://github.com/OpenVPN/easy-rsa/releases">the list on
GitHub</a>, unpacking it,
and adding the EasyRSA directory to your <code>$PATH</code>; <code>easyrsa</code> is a bash
script, so you do not need to worry about building or fetching a
binary specific to your OS or computer architecture.</p>
<p>Easy-RSA uses <a href="https://www.openssl.org/">OpenSSL</a>, so you will need
that installed too.</p>
<h5 id="kubestellar-ensure-kcp-server-creds-usage">kubestellar-ensure-kcp-server-creds usage<a class="headerlink" href="#kubestellar-ensure-kcp-server-creds-usage" title="Permanent link">#</a></h5>
<p>This command is given exactly one thing on the command line, a DNS
domain name.  This command creates --- or re-uses if it finds already
existing --- a private key and public X.509 certificate for the kcp
server to use.  The certificate has exactly one
SubjectAlternativeName, which is of the DNS form and specifies the
given domain name.  For example: <code>kubestellar-ensure-kcp-server-creds
foo.bar</code> creates a certificate with one SAN, commonly rendered as
<code>DNS:foo.bar</code>.</p>
<p>This command uses a Public Key Infrastructure (PKI) and Certificate
Authority (CA) implemented by
<a href="https://github.com/OpenVPN/easy-rsa">easy-rsa</a>, rooted at the
subdirectory <code>pki</code> of the current working directory.  This command
will create the PKI if it does not already exist, and will initialize
the CA if that has not already been done.  The CA's public certificate
appears at the usual place for easy-rsa: <code>pki/ca.crt</code>.</p>
<p>This command prints some stuff --- mostly progress remarks from
easy-rsa --- to stderr and prints one line of results to stdout.  The
<code>bash</code> shell will parse that one line as three words.  Each is an
absolute pathname of one certificate or key.  The three are as
follows.</p>
<ol>
<li>The CA certificate for the client to use in verifying the server.</li>
<li>The X.509 certificate for the server to put in its ServerHello in a
   TLS handshake in which the ClientHello has a Server Name Indicator
   (SNI) that matches the given domain name.</li>
<li>The private key corresponding to that server certificate.</li>
</ol>
<p>Following is an example of invoking this command and examining its
results.</p>
<div class="language-console highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="go">bash-5.2$ eval pieces=($(kubestellar-ensure-kcp-server-creds yep.yep))</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="go">Re-using PKI at /Users/mspreitz/go/src/github.com/kubestellar/kubestellar/pki</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="go">Re-using CA at /Users/mspreitz/go/src/github.com/kubestellar/kubestellar/pki/private/ca.key</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">Accepting existing credentials</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="go">bash-5.2$ echo ${pieces[0]}</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="go">/Users/mspreitz/go/src/github.com/kubestellar/kubestellar/pki/ca.crt</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="go">bash-5.2$ echo ${pieces[1]}</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="go">/Users/mspreitz/go/src/github.com/kubestellar/kubestellar/pki/issued/kcp-DNS-yep.yep.crt</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="go">bash-5.2$ echo ${pieces[2]}</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="go">/Users/mspreitz/go/src/github.com/kubestellar/kubestellar/pki/private/kcp-DNS-yep.yep.key</span>
</code></pre></div>
<p>Following is an example of using those results in launching the kcp
server.  The <code>--tls-sni-cert-key</code> flag can appear multiple times on
the command line, configuring the server to respond in a different way
to each of multiple different SNIs.</p>
<div class="language-console highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">bash-5.2$ kcp start --tls-sni-cert-key ${pieces[1]},${pieces[2]} &amp;&gt; /tmp/kcp.log &amp;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="go">[1] 66974</span>
</code></pre></div>
<h4 id="wait-and-switch-domain">wait-and-switch-domain<a class="headerlink" href="#wait-and-switch-domain" title="Permanent link">#</a></h4>
<p>This command is for using after the kcp server has been launched.
Since the <code>kcp start</code> command really means <code>kcp run</code>, all usage of
that server has to be done by concurrent processes.  The
<code>wait-and-switch-domain</code> command bundles two things: waiting for the
kcp server to start handling kubectl requests, and making an alternate
kubeconfig file for a set of clients to use.  This command is pointed
at an existing kubeconfig file and reads it but does not write it; the
alternate config file is written (its directory must already exist and
be writable).  This command takes exactly six command line positional
arguments, as follows.</p>
<ol>
<li>Pathname (absolute or relative) of the input kubeconfig.</li>
<li>Pathname (absolute or relative) of the output kubeconfig.</li>
<li>Name of the kubeconfig "context" that identifies what to replace.</li>
<li>Domain name to put in the replacement server URLs.</li>
<li>Port number to put in the replacement server URLs.</li>
<li>Pathname (absolute or relative) of a file holding the CA
   certificate to put in the alternate kubeconfig file.</li>
</ol>
<p>Creation of the alternate kubeconfig file starts by looking in the
input kubeconfig file for the "context" with the given name, to find
the name of a "cluster".  The server URL of that cluster is examined,
and its <code>protocol://host:port</code> prefix is extracted.  The alternate
kubeconfig will differ from the input kubeconfig in the contents of
the cluster objects whose server URLs start with that same prefix.
There will be the following two differences.</p>
<ol>
<li>In the server URL's <code>protocol://host:port</code> prefix, the host will be
   replaced by the given domain name and the port will be replaced by
   the given port.</li>
<li>The cluster will be given a <code>certificate-authority-data</code> that holds
   the contents (base64 encoded, as usual) of the given CA certificate
   file.</li>
</ol>
<p>Following is an example of using this command and examining the
results.  The context and port number chosen work for the kubeconfig
file that <code>kcp start</code> (kcp release v0.11.0) creates by default.</p>
<div class="language-console highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="go">bash-5.2$ wait-and-switch-domain .kcp/admin.kubeconfig test.yaml root yep.yep 6443 ${pieces[0]}</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="go">bash-5.2$ diff -w .kcp/admin.kubeconfig test.yaml</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="go">4,5c4,5</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="go">&lt;     certificate-authority-data: LS0...LQo=</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="go">&lt;     server: https://192.168.something.something:6443</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="go">---</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="go">&gt;       certificate-authority-data: LS0...LQo=</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="go">&gt;       server: https://yep.yep:6443</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="go">8,9c8,9</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="go">&lt;     certificate-authority-data: LS0...LQo=</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="go">&lt;     server: https://192.168.something.something:6443/clusters/root</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="go">---</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="go">&gt;       certificate-authority-data: LS0...LQo=</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="go">&gt;       server: https://yep.yep:6443/clusters/root</span>
</code></pre></div>
<p>Following is an example of using the alternate kubeconfig file, in a
context where the domain name "yep.yep" resolves to an IP address of
the network namespace in which the kcp server is running.</p>
<div class="language-console highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="go">bash-5.2$ KUBECONFIG=.kcp-yep.yep/admin.kubeconfig kubectl ws .</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="go">Current workspace is &quot;root&quot;.</span>
</code></pre></div>
<p>Because this command reads the given kubeconfig file, it is important
to invoke this command while nothing is concurrently writing it and
while the caller reliably knows the name of a kubeconfig context that
identifies what to replace.</p>
<h4 id="switch-domain">switch-domain<a class="headerlink" href="#switch-domain" title="Permanent link">#</a></h4>
<p>This command is the second part of <code>wait-and-switch-domain</code>: the part
of creating the alternate kubeconfig file.  It has the same inputs and
outputs and concurrency considerations.</p>
<h3 id="kubestellar-process-control">KubeStellar process control<a class="headerlink" href="#kubestellar-process-control" title="Permanent link">#</a></h3>
<p>The <code>kubestellar</code> command has three subcommands, one to finish setup
and two for process control.</p>
<p>Except for the <code>stop</code> subcommand, this command has the following
pre-requisites.</p>
<ul>
<li>
<p>The space manager is running, there is a space provider named
  "default", and that is the one to use.</p>
</li>
<li>
<p>When not given any command-line flags, <code>kubectl</code> will access the
  Space Management API Space (SMAS).</p>
</li>
</ul>
<p>This command is one of those requiring <a href="#os-namespace-consistency">OS namespace
consistency</a>.</p>
<p>The usage synopsis is as follows.</p>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>kubestellar<span class="w"> </span><span class="o">[</span>flags<span class="o">]</span><span class="w"> </span>subcommand<span class="w"> </span><span class="o">[</span>flags<span class="o">]</span>
</code></pre></div>
<p>This command accepts the following command line flags, which can
appear before and/or after the subcommand.  The <code>--log-folder</code> flag is
only meaningful for the <code>start</code> subcommand. The <code>--in-cluster</code> flag is
not meaningful for the <code>stop</code> subcommand. The <code>--ensure-imw</code> and 
<code>--ensure-wmw</code> flags are only meaningful for the <code>start</code> or <code>init</code> subcommands.</p>
<ul>
<li><code>-V</code> or <code>--verbose</code>: calls for more verbose output.  This is a
  binary choice, not a matter of degree.</li>
<li><code>-X</code>: turns on echoing of script lines</li>
<li><code>--log-folder $pathname</code>: says where to put the logs from the
  controllers.  Will be <code>mkdir -p</code> if absent.  Defaults to
  <code>${PWD}/kubestellar-logs</code>.</li>
<li><code>--in-cluster</code>: as <a href="#in-cluster">usual</a>.</li>
<li><code>--ensure-imw</code>: provide a comma separated list of pathnames for inventory workspaces, <em>e.g.</em> "root:imw1,root:imw2". Defaults to "root:imw1". To prevent the creation of any inventory workspace, then pass "".</li>
<li><code>--ensure-wmw</code>: provide a comma separated list of pathnames for workload management workspaces, <em>e.g.</em> "root:wmw1,root:imw2". Defaults to "root:wmw1". To prevent the creation of any workload management workspace, then pass "".</li>
<li><code>-h</code> or <code>--help</code>: print a brief usage message and terminate.</li>
</ul>
<h4 id="kubestellar-init">Kubestellar init<a class="headerlink" href="#kubestellar-init" title="Permanent link">#</a></h4>
<p>This subcommand is used after installation to finish setup and does
the following five things.</p>
<ol>
<li>
<p>Ensure that the KubeStellar Core Space (KCS, formerly called edge
   service provider workspace (ESPW)) exists and has the required
   contents.</p>
</li>
<li>
<p>Ensure the existence of zero, one, or more inventory spaces
   depending on the value of <code>--ensure-imw</code> flag. Default is one
   inventory space named "imw1".</p>
</li>
<li>
<p>Ensure the existence of zero, one, or more workload description
   spaces (WDS, formerly workload management workspaces (WMW))
   depending on the value of <code>--ensure-wmw</code> flag. Default is one WDS
   named "wmw1". The WDSes have CRDs for the Kubernetes APIS for
   management of containerized workloads.</p>
</li>
</ol>
<h4 id="kubestellar-start">KubeStellar start<a class="headerlink" href="#kubestellar-start" title="Permanent link">#</a></h4>
<p>This subcommand is used after installation or process stops.</p>
<p>This subcommand stops any running kubestellar controllers and then
starts them all.  It also does the same things as <code>kubestellar init</code>.</p>
<h4 id="kubestellar-stop">KubeStellar stop<a class="headerlink" href="#kubestellar-stop" title="Permanent link">#</a></h4>
<p>This subcommand undoes the primary function of <code>kubestellar start</code>,
stopping any running KubeStellar controllers.  It does <em>not</em> tear down
the ESPW.</p>
<h2 id="deployment-into-a-kubernetes-cluster">Deployment into a Kubernetes cluster<a class="headerlink" href="#deployment-into-a-kubernetes-cluster" title="Permanent link">#</a></h2>
<p>These commands administer a deployment of the central components ---
the space provider server, PKI, and the central KubeStellar components 
--- in a Kubernetes cluster that will be referred to as "the hosting 
cluster".  These commands are framed as "kubectl plugins" and thus need 
to be explicitly or implicitly given a kubeconfig file for the hosting
cluster.</p>
<p>You need a Kubernetes cluster with an Ingress controller deployed and
configured in a way that does <em>not</em> terminate TLS connections (this
abstinence is often called "SSL passthrough"). An OpenShift cluster
would be one qualifying thing. Another would be an ordinary Kubernetes
cluster with the <a href="https://docs.nginx.com/nginx-ingress-controller/">nginx Ingress
controller</a> deployed
and configured appropriately. Please note that <a href="https://kind.sigs.k8s.io/docs/user/ingress/">special
considerations</a> apply
when deploying an ingress controller in <code>kind</code>. See <a href="../environments/dev-env/#hosting-kubestellar-in-a-kind-cluster">a fully worked
example with kind and
nginx</a>. You
will need to know the port number at which the Ingress controller is
listening for HTTPS connections.</p>
<p><strong>IF</strong> your Kubernetes cluster has any worker nodes --- real or
virtual --- with the x86_64 instruction set, they need to support the
extended instruction set known as "x64-64-v2". If using hardware
bought in the last 10 years, you can assume that is true. If using
emulation, you need to make sure that your emulator is emulating that
extended instruction set --- some emulators do not do this by
default. See <a href="https://www.qemu.org/docs/master/system/i386/cpu.html">QEMU configuration
recommendations</a>,
for example.</p>
<p>You will need a domain name that, on each of your clients, resolves to
an IP address that gets to the Ingress controller's listening socket.</p>
<h3 id="deploy-to-cluster">Deploy to cluster<a class="headerlink" href="#deploy-to-cluster" title="Permanent link">#</a></h3>
<p>Deployment is done with a "kubectl plugin" that is invoked as <code>kubectl
kubestellar deploy</code> and creates a <a href="https://helm.sh/docs/intro/using_helm/#three-big-concepts">Helm
"release"</a>
in the hosting cluster. As such, it relies on explicit (on the command
line) or implicit (in environment variables and/or <code>~/.kube/config</code>)
configuration needed to execute Helm commands. The following flags can
appear on the command line, in any order.</p>
<ul>
<li><code>--openshift $bool</code>, saying whether the hosting cluster is an
  OpenShift cluster.  If so then a Route will be created to the kcp
  server; otherwise, an Ingress object will direct incoming TLS
  connections to the kcp server.  The default is <code>false</code>.</li>
<li><code>--external-endpoint $domain_name:$port</code>, saying how the kcp server
  will be reached from outside the cluster.  The given domain name
  must be something that the external clients will resolve to an IP
  address where the cluster's Ingress controller or OpenShift router
  will be listening, and the given port must be the corresponding TCP
  port number.  For a plain Kubernetes cluster, this must be
  specified.  For an OpenShift cluster this may be omitted, in which
  case the command will (a) assume that the external port number is
  443 and (b) extract the external hostname from the Route object
  after it is created and updated by OpenShift.  FYI, that external
  hostname will start with a string derived from the Route in the
  chart (currently "kubestellar-route-kubestellar") and continue with
  "." and then the ingress domain name for the cluster.</li>
<li>a command line flag for the <code>helm upgrade</code> command. This includes
  the usual control over namespace: you can set it on the command
  line, otherwise the namespace that is current in your kubeconfig
  applies.</li>
<li><code>-X</code> turns on debug echoing of all the commands in the script that
  implements this command.</li>
<li><code>-h</code> prints a brief usage message and terminates with success.</li>
</ul>
<p>For example, to deploy to a plain Kubernetes cluster whose Ingress
controller can be reached at
<code>my-long-application-name.my-region.some.cloud.com:1234</code>, you would
issue the following command.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>deploy<span class="w"> </span>--external-endpoint<span class="w"> </span>my-long-application-name.my-region.some.cloud.com:1234
</code></pre></div>
<p>The Helm chart takes care of setting up the KubeStellar Core,
accomplishing the same thing as the <a href="#kubestellar-start">kubestellar
start</a> command above.</p>
<h3 id="fetch-a-log-from-a-kubestellar-runtime-container">Fetch a log from a KubeStellar runtime container<a class="headerlink" href="#fetch-a-log-from-a-kubestellar-runtime-container" title="Permanent link">#</a></h3>
<h3 id="remove-deployment-to-a-kubernetes-cluster">Remove deployment to a Kubernetes cluster<a class="headerlink" href="#remove-deployment-to-a-kubernetes-cluster" title="Permanent link">#</a></h3>
<p>The deployment of kcp and KubeStellar as a Kubernetes workload is done
by making a "release" (this is a <a href="https://helm.sh/docs/intro/cheatsheet/#basic-interpretationscontext">technical term in
Helm</a>
whose meaning might surprise you) of a Helm chart.  This release is
named "kubestellar".  To undo the deployment, just use the Helm
command to delete that release.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>helm<span class="w"> </span>delete<span class="w"> </span>kubestellar
</code></pre></div>
<p><strong>NOTE</strong>: this is a detail that might change in the future.</p>
<h2 id="kubestellar-platform-user-commands">KubeStellar platform user commands<a class="headerlink" href="#kubestellar-platform-user-commands" title="Permanent link">#</a></h2>
<p>The remainder of the commands in this document are for users rather
than administrators of the service that KubeStellar provides.</p>
<h2 id="kubestellar-release">KubeStellar-release<a class="headerlink" href="#kubestellar-release" title="Permanent link">#</a></h2>
<p>This command just echoes the <a href="https://semver.org/">semantic version</a>
of the release used.  This command is only available in archives built
for a release.  Following is an example usage.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>kubestellar-release
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>v0.2.3-preview
</code></pre></div></p>
<h2 id="kubestellar-version">Kubestellar-version<a class="headerlink" href="#kubestellar-version" title="Permanent link">#</a></h2>
<p>This executable prints information about itself captured at build
time.  If built by <code>make</code> then this is information conveyed by the
Makefile; otherwise it is <a href="https://github.com/kubernetes/client-go/blob/master/pkg/version/base.go">the Kubernetes
defaults</a>.</p>
<p>It will either print one requested property or a JSON object
containing many.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>kubestellar-version<span class="w"> </span><span class="nb">help</span>
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>Invalid<span class="w"> </span>component<span class="w"> </span>requested:<span class="w"> </span><span class="s2">&quot;help&quot;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Usage:<span class="w"> </span>kubestellar-version<span class="w"> </span><span class="o">[</span>buildDate<span class="p">|</span>gitCommit<span class="p">|</span>gitTreeState<span class="p">|</span>platform<span class="o">]</span>
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>kubestellar-version<span class="w"> </span>buildDate
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="m">2023</span>-05-19T02:54:01Z
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>kubestellar-version<span class="w"> </span>gitCommit
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>1747254b
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>kubestellar-version
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">{</span><span class="s2">&quot;major&quot;</span>:<span class="s2">&quot;1&quot;</span>,<span class="s2">&quot;minor&quot;</span>:<span class="s2">&quot;24&quot;</span>,<span class="s2">&quot;gitVersion&quot;</span>:<span class="s2">&quot;v1.24.3+kcp-v0.2.1-20-g1747254b880cb7&quot;</span>,<span class="s2">&quot;gitCommit&quot;</span>:<span class="s2">&quot;1747254b&quot;</span>,<span class="s2">&quot;gitTreeState&quot;</span>:<span class="s2">&quot;dirty&quot;</span>,<span class="s2">&quot;buildDate&quot;</span>:<span class="s2">&quot;2023-05-19T02:54:01Z&quot;</span>,<span class="s2">&quot;goVersion&quot;</span>:<span class="s2">&quot;go1.19.9&quot;</span>,<span class="s2">&quot;compiler&quot;</span>:<span class="s2">&quot;gc&quot;</span>,<span class="s2">&quot;platform&quot;</span>:<span class="s2">&quot;darwin/amd64&quot;</span><span class="o">}</span>
</code></pre></div></p>
<h2 id="creating-an-inventory-space">Creating an Inventory Space<a class="headerlink" href="#creating-an-inventory-space" title="Permanent link">#</a></h2>
<p>This command will create an inventory space (IS) of a given name if it
does not already exist and ensure that it is properly prepared for
use.</p>
<p>This command is one of those requiring <a href="#os-namespace-consistency">OS namespace
consistency</a>.</p>
<p>Preparing for use includes using kube-bind to import the definitions
of <code>SyncTarget</code> and <code>Location</code>. If that has not already been done then
it will be done by invoking
<a href="#kubestellar-kube-bind">kubestellar-kube-bind</a>, with the attendant
side-effects to the filesystem (possibly creating
<code>${PWD}/konnector-${space_name}/</code> and/or a temporary kubeconfig file
in <code>$PWD</code>) and constraint on working directory (always the same for a
given WDS).</p>
<p>This command is given a kube client configuration for access to the
Space Management API Space (SMAS), via the usual <code>kubectl</code> flags and
<code>$KUBECONFIG</code>.</p>
<p>The usage synopsis for this command is as follows.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>inventory-space<span class="w"> </span>flag...<span class="w"> </span>inventory_space_name
</code></pre></div>
<p>This command accepts the following flags. They can be intermixed with
the positional argument.</p>
<ul>
<li><code>-h</code> or <code>--help</code>: print a brief usage message and terminate
  successfully.</li>
<li><code>-X</code>: turn on debug echoing of the commands inside the script that
  implements this command.</li>
<li>a <code>kubectl</code> flag (but not <code>-o</code> or <code>--output</code>).</li>
<li><code>--in-cluster</code>: as <a href="#in-cluster">usual</a>.</li>
<li><code>--output-kubeconfig $file_pathname</code>: requests that an in-cluster
  kubeconfig for the space be output to the given file pathname.</li>
</ul>
<p>This script works in idempotent style, doing whatever work remains to
be done.</p>
<h2 id="creating-synctargetlocation-pairs">Creating SyncTarget/Location pairs<a class="headerlink" href="#creating-synctargetlocation-pairs" title="Permanent link">#</a></h2>
<p>In this PoC, the interface between infrastructure and workload
management is inventory API objects.  Specifically, for each workload
execution cluster there is a unique pair of SyncTarget and Location
objects in a so-called inventory space.  These kinds of objects were
originally defined in kcp TMC, and now there is a copy of those
definitions (CRDs) in KubeStellar.  It is the definitions in
KubeStellar that should be referenced.  Those are in the Kubernetes
API group <code>edge.kubestellar.io</code>, and they are exported from the
<a href="../../../../Getting-Started/user-guide/">KubeStellar Core Space
(KCS)</a>) (the space named
<code>espw</code>).</p>
<p>The following command helps with making that SyncTarget and Location
pair. This command operates on an existing inventory space. This
command is given a kube client config for that space via the usual
<code>kubectl</code> command line flags and <code>$KUBECONFIG</code>.</p>
<p>The usage synopsis is as follows.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>location<span class="w"> </span>flag...<span class="w"> </span>objname<span class="w"> </span><span class="nv">labelname</span><span class="o">=</span>labelvalue...
</code></pre></div>
<p>Here <code>objname</code> is the name for the SyncTarget object and also the name
for the Location object.  This command ensures that these objects exist
and have at least the given labels.</p>
<p>The flags can also appear anywhere later on the command line.</p>
<p>This command accepts the following flags.</p>
<ul>
<li><code>-h</code> or <code>--help</code>: print a brief usage message and terminate successfully.</li>
<li><code>-X</code>: turn on debug echoing of the commands inside the script that
  implements this command.</li>
<li>a <code>kubectl</code> flag (but not <code>-o</code> or <code>--output</code>).</li>
</ul>
<p>This command does not depend on the action of any of the KubeStellar
controllers but does require that the KubeStellar Core Space (KCS) has
been set up.</p>
<p>An example usage follows.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nv">KUBECONFIG</span><span class="o">=</span>imw1.kubeconfig<span class="w"> </span>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>location<span class="w"> </span>demo1<span class="w"> </span><span class="nv">foo</span><span class="o">=</span>bar<span class="w"> </span>the-word<span class="o">=</span>the-bird
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>synctarget.workload.kcp.io/demo1<span class="w"> </span>created
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>location.scheduling.kcp.io/demo1<span class="w"> </span>created
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>synctarget.workload.kcp.io/demo1<span class="w"> </span>labeled
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>location.scheduling.kcp.io/demo1<span class="w"> </span>labeled
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>synctarget.workload.kcp.io/demo1<span class="w"> </span>labeled
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>location.scheduling.kcp.io/demo1<span class="w"> </span>labeled
</code></pre></div></p>
<p>The above example shows using this script to create a SyncTarget and a
Location named <code>demo1</code> with labels <code>foo=bar</code> and <code>the-word=the-bird</code>.
This was equivalent to the following commands.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nv">KUBECONFIG</span><span class="o">=</span>imw1.kubeconfig<span class="w"> </span>kubectl<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>-<span class="s">&lt;&lt;EOF</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="s">apiVersion: workload.kcp.io/v1alpha1</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="s">kind: SyncTarget</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="s">metadata:</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="s">  name: demo1</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="s">  labels:</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="s">    id: demo1</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="s">    foo: bar</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="s">    the-word: the-bird</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="s">---</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="s">apiVersion: scheduling.kcp.io/v1alpha1</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="s">kind: Location</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="s">metadata:</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="s">  name: demo1</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="s">  labels:</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="s">    foo: bar</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="s">    the-word: the-bird</span>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="s">spec:</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="s">  resource: {group: workload.kcp.io, version: v1alpha1, resource: synctargets}</span>
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="s">  instanceSelector:</span>
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="s">    matchLabels: {&quot;id&quot;:&quot;demo1&quot;}</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="s">EOF</span>
</code></pre></div>
<p>Note that the extraction of space kubeconfig file can be accomplished using the 
<code>kubectl kubestellar space get-kubeconfig</code> command.</p>
<p>This command operates in idempotent style, making whatever changes (if
any) are needed to move from the current state to the desired state.</p>
<h2 id="removing-synctargetlocation-pairs">Removing SyncTarget/Location pairs<a class="headerlink" href="#removing-synctargetlocation-pairs" title="Permanent link">#</a></h2>
<p>THIS SCRIPT IS BROKEN</p>
<p>The following script undoes whatever remains from a corresponding
usage of <code>kubectl kubestellar ensure location</code>.  It has all the same
command line syntax and semantics except that the
<code>labelname=labelvalue</code> pairs do not appear.</p>
<p>This command does not depend on the action of any of the KubeStellar controllers.</p>
<p>The following session demonstrates usage, including idempotency.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$imw_space_config</span><span class="w"> </span>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>remove<span class="w"> </span>location<span class="w"> </span>demo1
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>synctarget.workload.kcp.io<span class="w"> </span><span class="s2">&quot;demo1&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>location.scheduling.kcp.io<span class="w"> </span><span class="s2">&quot;demo1&quot;</span><span class="w"> </span>deleted
</code></pre></div></p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$imw_space_config</span><span class="w"> </span>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>remove<span class="w"> </span>location<span class="w"> </span>demo1
</code></pre></div>
<h2 id="getting-a-kubeconfig-of-a-given-space">Getting a kubeconfig of a given space<a class="headerlink" href="#getting-a-kubeconfig-of-a-given-space" title="Permanent link">#</a></h2>
<p>This command fetches a kubeconfig for super-user access to a given
space into a given filename. The kubeconfig will be good for one year
since the creation of the space unless it was configured unusually.</p>
<p>Each space has two such kubeconfig files. One kubeconfig is known as
the "in-cluster" kubeconfig and is for accessing the space from within
the same Kubernetes cluster as the space's apiserver(s) (assuming they
<em>are</em> in a cluster). The other is known as the "external" kubeconfig
and is for accessing the space from outside the space's host cluster
(assuming there is one). Clients inside that cluster generally can use
the external kubeconfig successfully but it is less efficient. The
precise truth of the matter depends on the hostname configured for
external access at deployment time.</p>
<p>This command is given a client configuration for accessing the Space
Management API Space (SMAS), via the usual ways for configuring
<code>kubectl</code>.</p>
<p>The usage synopsis is as follows.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>space<span class="w"> </span>get-kubeconfig<span class="w"> </span>flag...<span class="w"> </span><span class="nv">$space_name</span><span class="w"> </span><span class="nv">$output_pathname</span>
</code></pre></div>
<p>This command accepts the following flags.</p>
<ul>
<li><code>-h</code> or <code>--help</code>: print usage and terminate with success.</li>
<li><code>-X</code>: turn on debug echoing of the script as it executes.</li>
<li>a <code>kubectl</code> flag (but not <code>-o</code> or <code>--output</code>).</li>
<li><code>--in-cluster</code>: indicates that the kubeconfig is for use
  <a href="#in-cluster">in-cluster</a>.</li>
</ul>
<p>Following is an example usage.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>space<span class="w"> </span>get-kubeconfig<span class="w"> </span>imw1<span class="w"> </span>imw1.kubeconfig
</code></pre></div>
<h2 id="syncer-preparation-and-installation">Syncer preparation and installation<a class="headerlink" href="#syncer-preparation-and-installation" title="Permanent link">#</a></h2>
<p>The syncer runs in each edge cluster and also talks to the
corresponding mailbox space.  In order for it to be able to do
that, there is some work to do in the mailbox space to create a
ServiceAccount for the syncer to authenticate as and create RBAC
objects to give the syncer the privileges that it needs.  The
following script does those things and also outputs YAML to be used to
install the syncer in the edge cluster.</p>
<p>This script is given a kube client config for accessing the SMAS via
the usual <code>kubectl</code> command line flags and <code>$KUBECONFIG</code>.</p>
<p>The usage synopsis is as follows.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>prep-for-syncer<span class="w"> </span>flag...<span class="w"> </span>synctarget_name
</code></pre></div>
<p>Here <code>synctarget_name</code> is the name of the <code>SyncTarget</code> object, in the
relevant IMW, corresponding to the relevant edge cluster.</p>
<p>The flags can also appear anywhere later on the command line.</p>
<p>This command accepts the following flags.</p>
<ul>
<li><code>-h</code> or <code>--help</code>: print a brief usage message and terminate successfully.</li>
<li><code>-X</code>: turn on debug echoing of commands inside the script that
  implements this command.</li>
<li>a <code>kubectl</code> flaag (but not <code>-o</code> or <code>--output</code>).</li>
<li><code>--in-cluster</code>: as <a href="#in-cluster">usual</a>.</li>
<li><code>--imw space_name</code>: specifies which space holds the relevant
  SyncTarget object.</li>
<li><code>--espw space_name</code>: specifies where to find the edge service
  provider space.</li>
<li><code>--syncer-image image_ref</code>: specifies the container image that runs
  the syncer.  The default is <code>quay.io/kubestellar/syncer:latest</code>.</li>
<li><code>-o output_pathname</code>: specifies where to write the YAML definitions
  of the API objects to create in the edge cluster in order to deploy
  the syncer there.  The default is <code>synctarget_name +
  "-syncer.yaml"</code>. <strong>NOTE</strong> this is differnt from the usual meaning of
  <code>-o</code> for <code>kubectl</code>.</li>
<li><code>-s</code>: exceptionally low info output.</li>
</ul>
<p>This command will only succeed if the mailbox controller has created
and conditioned the mailbox space for the given SyncTarget.  This
command will wait for 10 to 70 seconds for that to happen.</p>
<p>An example usage follows.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>prep-for-syncer<span class="w"> </span>--imw<span class="w"> </span>imw-1<span class="w"> </span>demo1
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>Current<span class="w"> </span>space<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;4yqm57kx0m6mn76c-mb-406c54d1-64ce-4fdc-99b3-cef9c4fc5010&quot;</span><span class="w"> </span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>Creating<span class="w"> </span>service<span class="w"> </span>account<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>Creating<span class="w"> </span>cluster<span class="w"> </span>role<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span><span class="w"> </span>to<span class="w"> </span>give<span class="w"> </span>service<span class="w"> </span>account<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w"> </span><span class="m">1</span>.<span class="w"> </span>write<span class="w"> </span>and<span class="w"> </span>sync<span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>synctarget<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w"> </span><span class="m">2</span>.<span class="w"> </span>write<span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>apiresourceimports.
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>Creating<span class="w"> </span>or<span class="w"> </span>updating<span class="w"> </span>cluster<span class="w"> </span>role<span class="w"> </span>binding<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span><span class="w"> </span>to<span class="w"> </span><span class="nb">bind</span><span class="w"> </span>service<span class="w"> </span>account<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span><span class="w"> </span>to<span class="w"> </span>cluster<span class="w"> </span>role<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span>.
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>Wrote<span class="w"> </span>WEC<span class="w"> </span>manifest<span class="w"> </span>to<span class="w"> </span>demo1-syncer.yaml<span class="w"> </span><span class="k">for</span><span class="w"> </span>namespace<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span>.<span class="w"> </span>Use
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="w">  </span><span class="nv">KUBECONFIG</span><span class="o">=</span>&lt;space-execution-cluster-config&gt;<span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;demo1-syncer.yaml&quot;</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>to<span class="w"> </span>apply<span class="w"> </span>it.<span class="w"> </span>Use
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="w">  </span><span class="nv">KUBECONFIG</span><span class="o">=</span>&lt;space-execution-cluster-config&gt;<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>deployment<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo1-28at01r3&quot;</span><span class="w"> </span>kubestellar-syncer-demo1-28at01r3
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>to<span class="w"> </span>verify<span class="w"> </span>the<span class="w"> </span>syncer<span class="w"> </span>pod<span class="w"> </span>is<span class="w"> </span>running.
</code></pre></div></p>
<p>Once that script has run, the YAML for the objects to create in the
edge cluster is in your chosen output file.  The default for the
output file is the name of the SyncTarget object with "-syncer.yaml"
appended.</p>
<p>Create those objects with a command like the following; adjust as
needed to configure <code>kubectl</code> to modify the edge cluster and read your
chosen output file.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$demo1_kubeconfig</span><span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>demo1-syncer.yaml
</code></pre></div>
<p>You can preserve this file for future use if you want to remove the
syncer later.</p>
<h2 id="syncer-removal">Syncer removal<a class="headerlink" href="#syncer-removal" title="Permanent link">#</a></h2>
<p>The previous section shows the two steps involved in establishing a
syncer: one modifies the core and one adds stuff into the WEC. If for
any reason your core gets deleted (e.g., deliberate replacement) and
you want to undo the addition of the syncer into the WEC, you can use
the YAML file generated above with <code>kubectl delete</code> instead of
<code>kubectl apply</code> (of course using the right kubeconfig and context
therein).</p>
<p>A syncer that is configured to work with an extinct core is harmless
except that its pod will be doing some futile work (failing to make
requests on the core and logging error messages).</p>
<p>If you need to manually remove the syncer from your WEC, following is
the list of things that went into the WEC.</p>
<ul>
<li>A namespace named
  <code>kubestellar-syncer-${SyncTarget_Name}-${UID}</code>. The UID is a random
  ID that is uniquely generated each time you run prep-for-syncer.</li>
<li>A ServiceAccount (with associated token Secret) in that namespace.</li>
<li>Another Secret in that namespace.</li>
<li>A Deployment in that namespace</li>
<li>A ClusterRole with the same name as the namespace.</li>
<li>A ClusterRoleBinding with the same name as the namespace.</li>
</ul>
<h2 id="workload-execution-cluster-on-boarding">Workload execution cluster on-boarding<a class="headerlink" href="#workload-execution-cluster-on-boarding" title="Permanent link">#</a></h2>
<p>The following command is a combination of <code>kubectl kubestellar
ensure-location</code> and <code>kubectl kubestellar prep-for-syncer</code>, and takes
the union of their command line flags and arguments with the following
exceptions/modifications.</p>
<ul>
<li>The <code>-o</code> flag is not accepted.</li>
<li>The <code>kubectl</code> flags and <code>$KUBECONFIG</code> say how to access the Space
  Management API Space (SMAS), not the inventory space.</li>
</ul>
<p>An example usage follows.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>prep-for-cluster<span class="w"> </span>--imw<span class="w"> </span>imw-1<span class="w"> </span>demo2<span class="w"> </span><span class="nv">key1</span><span class="o">=</span>val1
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>synctarget.workload.kcp.io/demo2<span class="w"> </span>created
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>location.scheduling.kcp.io/demo2<span class="w"> </span>created
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>synctarget.workload.kcp.io/demo2<span class="w"> </span>labeled
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>location.scheduling.kcp.io/demo2<span class="w"> </span>labeled
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>Current<span class="w"> </span>space<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;1cpf1cd4ydy13vo1-mb-3c354acd-ed86-45bb-a60d-cee8e59973f7&quot;</span><span class="w"> </span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>Creating<span class="w"> </span>service<span class="w"> </span>account<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>Creating<span class="w"> </span>cluster<span class="w"> </span>role<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span><span class="w"> </span>to<span class="w"> </span>give<span class="w"> </span>service<span class="w"> </span>account<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w"> </span><span class="m">1</span>.<span class="w"> </span>write<span class="w"> </span>and<span class="w"> </span>sync<span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>synctarget<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w"> </span><span class="m">2</span>.<span class="w"> </span>write<span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>apiresourceimports.
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>Creating<span class="w"> </span>or<span class="w"> </span>updating<span class="w"> </span>cluster<span class="w"> </span>role<span class="w"> </span>binding<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span><span class="w"> </span>to<span class="w"> </span><span class="nb">bind</span><span class="w"> </span>service<span class="w"> </span>account<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span><span class="w"> </span>to<span class="w"> </span>cluster<span class="w"> </span>role<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span>.
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>Wrote<span class="w"> </span>WEC<span class="w"> </span>manifest<span class="w"> </span>to<span class="w"> </span>demo2-syncer.yaml<span class="w"> </span><span class="k">for</span><span class="w"> </span>namespace<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span>.<span class="w"> </span>Use
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">  </span><span class="nv">KUBECONFIG</span><span class="o">=</span>&lt;space-execution-cluster-config&gt;<span class="w"> </span>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;demo2-syncer.yaml&quot;</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>to<span class="w"> </span>apply<span class="w"> </span>it.<span class="w"> </span>Use
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="w">  </span><span class="nv">KUBECONFIG</span><span class="o">=</span>&lt;space-execution-cluster-config&gt;<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>deployment<span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;kubestellar-syncer-demo2-15nq4e94&quot;</span><span class="w"> </span>kubestellar-syncer-demo2-15nq4e94
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a>to<span class="w"> </span>verify<span class="w"> </span>the<span class="w"> </span>syncer<span class="w"> </span>pod<span class="w"> </span>is<span class="w"> </span>running.
</code></pre></div></p>
<h2 id="creating-a-workload-description-space">Creating a Workload Description Space<a class="headerlink" href="#creating-a-workload-description-space" title="Permanent link">#</a></h2>
<p>This command will create a WDS of a given name if it does not already
exist and ensure that it is properly prepared for use.</p>
<p>This command is one of those requiring <a href="#os-namespace-consistency">OS namespace
consistency</a>.</p>
<p>Preparing for use includes using kube-bind to import the relevant
parts of the KubeStellar API. If that has not already been done then
it will be done by invoking
<a href="#kubestellar-kube-bind">kubestellar-kube-bind</a>, with the attendant
side-effects to the filesystem (possibly creating
<code>${PWD}/konnector-${space_name}/</code> and/or a temporary kubeconfig file
in <code>$PWD</code>) and constraint on working directory (always the same for a
given WDS).</p>
<p>Preparing for use also includes ensuring the CRDs for the Kubernetes
APIs for management of containerized workloads and present iff
desired.</p>
<p>This command is given a kube client configuration for access to the
Space Management API Space (SMAS), via the usual <code>kubectl</code> flags and
<code>$KUBECONFIG</code>.</p>
<p>The usage synopsis for this command is as follows.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>wmw<span class="w"> </span>flag...<span class="w"> </span>wm_space_name
</code></pre></div>
<p>This command accepts the following flags. They can be intermixed with
the positional argument.</p>
<ul>
<li><code>-h</code> or <code>--help</code>: print a brief usage message and terminate
  successfully.</li>
<li><code>-X</code>: turn on debug echoing of the commands inside the script that
  implements this command.</li>
<li><code>--in-cluster</code>: as <a href="#in-cluster">usual</a>.</li>
<li>a <code>kubectl</code> flag (but not <code>-o</code> or <code>--output</code>).</li>
<li><code>--output-kubeconfig $file_pathname</code>: requests that an in-cluster
  kubeconfig for the WDS be output to the given file pathname.</li>
<li><code>--with-kube boolean</code>: specifies whether or not the WMW should
  include CRDs for the supported subset of the Kubernetes API
  for management of containerized workloads. See <a href="../outline/#data-objects">the categorization
  in the design</a> for details.</li>
</ul>
<p>This script works in idempotent style, doing whatever work remains to
be done.</p>
<p>The following session shows some example usages, including
demonstration of idempotency and changing whether the kube CRDs
are included.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>wmw<span class="w"> </span>example-wmw
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>Error<span class="w"> </span>from<span class="w"> </span>server<span class="w"> </span><span class="o">(</span>NotFound<span class="o">)</span>:<span class="w"> </span>spaces.space.kubestellar.io<span class="w"> </span><span class="s2">&quot;example-wmw&quot;</span><span class="w"> </span>not<span class="w"> </span>found
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>space.space.kubestellar.io/example-wmw<span class="w"> </span>created
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>space<span class="w"> </span>example-wmw<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span>into<span class="w"> </span>the<span class="w"> </span>Ready<span class="w"> </span>phase.
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>Space<span class="w"> </span>example-wmw<span class="w"> </span>created.
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="nv">SECRET_NAME</span><span class="o">=</span>external-example-wmw
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="nv">SECRET_NAMESPACE</span><span class="o">=</span>spaceprovider-default
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>kcp<span class="w"> </span>workspace<span class="w"> </span>example-wmw<span class="s1">&#39;s ID is fcf8hzj7mlx156cm</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="s1">Current workspace is &quot;root:example-wmw&quot;.</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="s1">starting kube-bind konnector for space example-wmw in background, logs writing to /home/ubuntu/kubestellar/kubestellar-kube-bind-logs/kube-bind-konnector-example-wmw.log</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="s1">Storing konnector kubeconfigs in /home/fred/kubestellar-konnectors/231212-010203-edgeplacements-1234</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="s1">binding edgeplacements for example-wmw</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="s1">cluster namespace is kube-bind-tmflg</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="s1">Current workspace is &quot;root:espw&quot;.</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="s1">namespace kubestellar already exists</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="s1">configmap/kbmap-fcf8hzj7mlx156cm created</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="s1">Current workspace is &quot;root&quot;.</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="s1">kcp workspace example-wmw&#39;</span>s<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>fcf8hzj7mlx156cm
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:example-wmw&quot;</span>.
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a>kube-bind<span class="w"> </span>konnector<span class="w"> </span><span class="k">for</span><span class="w"> </span>space<span class="w"> </span>example-wmw<span class="w"> </span>already<span class="w"> </span>running
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a>Storing<span class="w"> </span>konnector<span class="w"> </span>kubeconfigs<span class="w"> </span><span class="k">in</span><span class="w"> </span>/home/fred/kubestellar-konnectors/231212-010213-customizers-1245
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a>binding<span class="w"> </span>customizers<span class="w"> </span><span class="k">for</span><span class="w"> </span>example-wmw
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a>cluster<span class="w"> </span>namespace<span class="w"> </span>is<span class="w"> </span>kube-bind-tmflg
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:espw&quot;</span>.
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a>namespace<span class="w"> </span>kubestellar<span class="w"> </span>already<span class="w"> </span>exists
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a>configmap/kbmap-fcf8hzj7mlx156cm<span class="w"> </span>configured
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a>kcp<span class="w"> </span>workspace<span class="w"> </span>example-wmw<span class="err">&#39;</span>s<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>fcf8hzj7mlx156cm
<a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:example-wmw&quot;</span>.
<a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a>kube-bind<span class="w"> </span>konnector<span class="w"> </span><span class="k">for</span><span class="w"> </span>space<span class="w"> </span>example-wmw<span class="w"> </span>already<span class="w"> </span>running
<a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a>Storing<span class="w"> </span>konnector<span class="w"> </span>kubeconfigs<span class="w"> </span><span class="k">in</span><span class="w"> </span>/home/fred/kubestellar-konnectors/231212-010233-singleplacementslices-1256
<a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a>binding<span class="w"> </span>singleplacementslices<span class="w"> </span><span class="k">for</span><span class="w"> </span>example-wmw
<a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a>cluster<span class="w"> </span>namespace<span class="w"> </span>is<span class="w"> </span>kube-bind-tmflg
<a id="__codelineno-35-34" name="__codelineno-35-34" href="#__codelineno-35-34"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:espw&quot;</span>.
<a id="__codelineno-35-35" name="__codelineno-35-35" href="#__codelineno-35-35"></a>namespace<span class="w"> </span>kubestellar<span class="w"> </span>already<span class="w"> </span>exists
<a id="__codelineno-35-36" name="__codelineno-35-36" href="#__codelineno-35-36"></a>configmap/kbmap-fcf8hzj7mlx156cm<span class="w"> </span>configured
<a id="__codelineno-35-37" name="__codelineno-35-37" href="#__codelineno-35-37"></a>customresourcedefinition.apiextensions.k8s.io/apiservices.apiregistration.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-38" name="__codelineno-35-38" href="#__codelineno-35-38"></a>customresourcedefinition.apiextensions.k8s.io/persistentvolumes.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-39" name="__codelineno-35-39" href="#__codelineno-35-39"></a>customresourcedefinition.apiextensions.k8s.io/flowschemas.flowcontrol.apiserver.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-40" name="__codelineno-35-40" href="#__codelineno-35-40"></a>customresourcedefinition.apiextensions.k8s.io/prioritylevelconfigurations.flowcontrol.apiserver.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-41" name="__codelineno-35-41" href="#__codelineno-35-41"></a>customresourcedefinition.apiextensions.k8s.io/ingressclasses.networking.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-42" name="__codelineno-35-42" href="#__codelineno-35-42"></a>customresourcedefinition.apiextensions.k8s.io/runtimeclasses.node.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-43" name="__codelineno-35-43" href="#__codelineno-35-43"></a>customresourcedefinition.apiextensions.k8s.io/priorityclasses.scheduling.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-44" name="__codelineno-35-44" href="#__codelineno-35-44"></a>customresourcedefinition.apiextensions.k8s.io/csidrivers.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-45" name="__codelineno-35-45" href="#__codelineno-35-45"></a>customresourcedefinition.apiextensions.k8s.io/csinodes.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-46" name="__codelineno-35-46" href="#__codelineno-35-46"></a>customresourcedefinition.apiextensions.k8s.io/storageclasses.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-47" name="__codelineno-35-47" href="#__codelineno-35-47"></a>customresourcedefinition.apiextensions.k8s.io/volumeattachments.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-48" name="__codelineno-35-48" href="#__codelineno-35-48"></a>customresourcedefinition.apiextensions.k8s.io/daemonsets.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-35-49" name="__codelineno-35-49" href="#__codelineno-35-49"></a>customresourcedefinition.apiextensions.k8s.io/deployments.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-35-50" name="__codelineno-35-50" href="#__codelineno-35-50"></a>customresourcedefinition.apiextensions.k8s.io/replicasets.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-35-51" name="__codelineno-35-51" href="#__codelineno-35-51"></a>customresourcedefinition.apiextensions.k8s.io/statefulsets.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-35-52" name="__codelineno-35-52" href="#__codelineno-35-52"></a>customresourcedefinition.apiextensions.k8s.io/horizontalpodautoscalers.autoscaling<span class="w"> </span>serverside-applied
<a id="__codelineno-35-53" name="__codelineno-35-53" href="#__codelineno-35-53"></a>customresourcedefinition.apiextensions.k8s.io/cronjobs.batch<span class="w"> </span>serverside-applied
<a id="__codelineno-35-54" name="__codelineno-35-54" href="#__codelineno-35-54"></a>customresourcedefinition.apiextensions.k8s.io/jobs.batch<span class="w"> </span>serverside-applied
<a id="__codelineno-35-55" name="__codelineno-35-55" href="#__codelineno-35-55"></a>customresourcedefinition.apiextensions.k8s.io/endpoints.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-56" name="__codelineno-35-56" href="#__codelineno-35-56"></a>customresourcedefinition.apiextensions.k8s.io/persistentvolumeclaims.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-57" name="__codelineno-35-57" href="#__codelineno-35-57"></a>customresourcedefinition.apiextensions.k8s.io/pods.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-58" name="__codelineno-35-58" href="#__codelineno-35-58"></a>customresourcedefinition.apiextensions.k8s.io/podtemplates.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-59" name="__codelineno-35-59" href="#__codelineno-35-59"></a>customresourcedefinition.apiextensions.k8s.io/replicationcontrollers.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-60" name="__codelineno-35-60" href="#__codelineno-35-60"></a>customresourcedefinition.apiextensions.k8s.io/services.core<span class="w"> </span>serverside-applied
<a id="__codelineno-35-61" name="__codelineno-35-61" href="#__codelineno-35-61"></a>customresourcedefinition.apiextensions.k8s.io/endpointslices.discovery.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-62" name="__codelineno-35-62" href="#__codelineno-35-62"></a>customresourcedefinition.apiextensions.k8s.io/ingresses.networking.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-63" name="__codelineno-35-63" href="#__codelineno-35-63"></a>customresourcedefinition.apiextensions.k8s.io/networkpolicies.networking.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-35-64" name="__codelineno-35-64" href="#__codelineno-35-64"></a>customresourcedefinition.apiextensions.k8s.io/poddisruptionbudgets.policy<span class="w"> </span>serverside-applied
<a id="__codelineno-35-65" name="__codelineno-35-65" href="#__codelineno-35-65"></a>customresourcedefinition.apiextensions.k8s.io/csistoragecapacities.storage.k8s.io<span class="w"> </span>serverside-applied
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>wmw<span class="w"> </span>example-wmw
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nv">SECRET_NAME</span><span class="o">=</span>external-example-wmw
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="nv">SECRET_NAMESPACE</span><span class="o">=</span>spaceprovider-default
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>kcp<span class="w"> </span>workspace<span class="w"> </span>example-wmw<span class="s1">&#39;s ID is fcf8hzj7mlx156cm</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="s1">Current workspace is &quot;root:example-wmw&quot;.</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="s1">CRD for edgeplacements already in place</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="s1">Current workspace is &quot;root&quot;.</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="s1">kcp workspace example-wmw&#39;</span>s<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>fcf8hzj7mlx156cm
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:example-wmw&quot;</span>.
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>CRD<span class="w"> </span><span class="k">for</span><span class="w"> </span>customizers<span class="w"> </span>already<span class="w"> </span><span class="k">in</span><span class="w"> </span>place
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>kcp<span class="w"> </span>workspace<span class="w"> </span>example-wmw<span class="err">&#39;</span>s<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>fcf8hzj7mlx156cm
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:example-wmw&quot;</span>.
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>CRD<span class="w"> </span><span class="k">for</span><span class="w"> </span>singleplacementslices<span class="w"> </span>already<span class="w"> </span><span class="k">in</span><span class="w"> </span>place
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a>customresourcedefinition.apiextensions.k8s.io/apiservices.apiregistration.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>customresourcedefinition.apiextensions.k8s.io/persistentvolumes.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a>customresourcedefinition.apiextensions.k8s.io/flowschemas.flowcontrol.apiserver.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a>customresourcedefinition.apiextensions.k8s.io/prioritylevelconfigurations.flowcontrol.apiserver.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a>customresourcedefinition.apiextensions.k8s.io/ingressclasses.networking.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a>customresourcedefinition.apiextensions.k8s.io/runtimeclasses.node.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a>customresourcedefinition.apiextensions.k8s.io/priorityclasses.scheduling.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a>customresourcedefinition.apiextensions.k8s.io/csidrivers.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a>customresourcedefinition.apiextensions.k8s.io/csinodes.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a>customresourcedefinition.apiextensions.k8s.io/storageclasses.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a>customresourcedefinition.apiextensions.k8s.io/volumeattachments.storage.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a>customresourcedefinition.apiextensions.k8s.io/daemonsets.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a>customresourcedefinition.apiextensions.k8s.io/deployments.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a>customresourcedefinition.apiextensions.k8s.io/replicasets.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a>customresourcedefinition.apiextensions.k8s.io/statefulsets.apps<span class="w"> </span>serverside-applied
<a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a>customresourcedefinition.apiextensions.k8s.io/horizontalpodautoscalers.autoscaling<span class="w"> </span>serverside-applied
<a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a>customresourcedefinition.apiextensions.k8s.io/cronjobs.batch<span class="w"> </span>serverside-applied
<a id="__codelineno-37-32" name="__codelineno-37-32" href="#__codelineno-37-32"></a>customresourcedefinition.apiextensions.k8s.io/jobs.batch<span class="w"> </span>serverside-applied
<a id="__codelineno-37-33" name="__codelineno-37-33" href="#__codelineno-37-33"></a>customresourcedefinition.apiextensions.k8s.io/endpoints.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-34" name="__codelineno-37-34" href="#__codelineno-37-34"></a>customresourcedefinition.apiextensions.k8s.io/persistentvolumeclaims.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-35" name="__codelineno-37-35" href="#__codelineno-37-35"></a>customresourcedefinition.apiextensions.k8s.io/pods.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-36" name="__codelineno-37-36" href="#__codelineno-37-36"></a>customresourcedefinition.apiextensions.k8s.io/podtemplates.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-37" name="__codelineno-37-37" href="#__codelineno-37-37"></a>customresourcedefinition.apiextensions.k8s.io/replicationcontrollers.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-38" name="__codelineno-37-38" href="#__codelineno-37-38"></a>customresourcedefinition.apiextensions.k8s.io/services.core<span class="w"> </span>serverside-applied
<a id="__codelineno-37-39" name="__codelineno-37-39" href="#__codelineno-37-39"></a>customresourcedefinition.apiextensions.k8s.io/endpointslices.discovery.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-40" name="__codelineno-37-40" href="#__codelineno-37-40"></a>customresourcedefinition.apiextensions.k8s.io/ingresses.networking.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-41" name="__codelineno-37-41" href="#__codelineno-37-41"></a>customresourcedefinition.apiextensions.k8s.io/networkpolicies.networking.k8s.io<span class="w"> </span>serverside-applied
<a id="__codelineno-37-42" name="__codelineno-37-42" href="#__codelineno-37-42"></a>customresourcedefinition.apiextensions.k8s.io/poddisruptionbudgets.policy<span class="w"> </span>serverside-applied
<a id="__codelineno-37-43" name="__codelineno-37-43" href="#__codelineno-37-43"></a>customresourcedefinition.apiextensions.k8s.io/csistoragecapacities.storage.k8s.io<span class="w"> </span>serverside-applied
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nv">IN_CLUSTER</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>ensure<span class="w"> </span>wmw<span class="w"> </span>example-wmw<span class="w"> </span>--with-kube<span class="w"> </span><span class="nb">false</span>
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nv">SECRET_NAME</span><span class="o">=</span>external-example-wmw
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="nv">SECRET_NAMESPACE</span><span class="o">=</span>spaceprovider-default
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>kcp<span class="w"> </span>workspace<span class="w"> </span>example-wmw<span class="s1">&#39;s ID is fcf8hzj7mlx156cm</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="s1">Current workspace is &quot;root:example-wmw&quot;.</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="s1">CRD for edgeplacements already in place</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="s1">Current workspace is &quot;root&quot;.</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="s1">kcp workspace example-wmw&#39;</span>s<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>fcf8hzj7mlx156cm
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:example-wmw&quot;</span>.
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>CRD<span class="w"> </span><span class="k">for</span><span class="w"> </span>customizers<span class="w"> </span>already<span class="w"> </span><span class="k">in</span><span class="w"> </span>place
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a>kcp<span class="w"> </span>workspace<span class="w"> </span>example-wmw<span class="err">&#39;</span>s<span class="w"> </span>ID<span class="w"> </span>is<span class="w"> </span>fcf8hzj7mlx156cm
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root:example-wmw&quot;</span>.
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a>CRD<span class="w"> </span><span class="k">for</span><span class="w"> </span>singleplacementslices<span class="w"> </span>already<span class="w"> </span><span class="k">in</span><span class="w"> </span>place
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;apiservices.apiregistration.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;persistentvolumes.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;flowschemas.flowcontrol.apiserver.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;prioritylevelconfigurations.flowcontrol.apiserver.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;ingressclasses.networking.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;runtimeclasses.node.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;priorityclasses.scheduling.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;csidrivers.storage.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;csinodes.storage.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;storageclasses.storage.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;volumeattachments.storage.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;daemonsets.apps&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;deployments.apps&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;replicasets.apps&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;statefulsets.apps&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;horizontalpodautoscalers.autoscaling&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;cronjobs.batch&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-32" name="__codelineno-39-32" href="#__codelineno-39-32"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;jobs.batch&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-33" name="__codelineno-39-33" href="#__codelineno-39-33"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;endpoints.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-34" name="__codelineno-39-34" href="#__codelineno-39-34"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;persistentvolumeclaims.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-35" name="__codelineno-39-35" href="#__codelineno-39-35"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;pods.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-36" name="__codelineno-39-36" href="#__codelineno-39-36"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;podtemplates.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-37" name="__codelineno-39-37" href="#__codelineno-39-37"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;replicationcontrollers.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-38" name="__codelineno-39-38" href="#__codelineno-39-38"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;services.core&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-39" name="__codelineno-39-39" href="#__codelineno-39-39"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;endpointslices.discovery.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-40" name="__codelineno-39-40" href="#__codelineno-39-40"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;ingresses.networking.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-41" name="__codelineno-39-41" href="#__codelineno-39-41"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;networkpolicies.networking.k8s.io&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-42" name="__codelineno-39-42" href="#__codelineno-39-42"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;poddisruptionbudgets.policy&quot;</span><span class="w"> </span>deleted
<a id="__codelineno-39-43" name="__codelineno-39-43" href="#__codelineno-39-43"></a>customresourcedefinition.apiextensions.k8s.io<span class="w"> </span><span class="s2">&quot;csistoragecapacities.storage.k8s.io&quot;</span><span class="w"> </span>deleted
</code></pre></div></p>
<h2 id="removing-a-workload-description-space">Removing a Workload Description Space<a class="headerlink" href="#removing-a-workload-description-space" title="Permanent link">#</a></h2>
<p>THIS SCRIPT IS BROKEN</p>
<p>Deleting a WDS (formerly WMW) can be done by simply deleting its
<code>space</code> object from the parent.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$SM_CONFIG</span><span class="w"> </span>kubectl<span class="w"> </span>delete<span class="w"> </span>space<span class="w"> </span>-n<span class="w"> </span>spaceprovider-default<span class="w"> </span>example-wmw
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>workspace.tenancy.kcp.io<span class="w"> </span><span class="s2">&quot;example-wmw&quot;</span><span class="w"> </span>deleted
</code></pre></div></p>
<p>Alternatively, you can use the following command line whose design
completes the square here.  Invoke it when the current workspace is
the parent of the workload management workspace to delete.</p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>remove<span class="w"> </span>wmw<span class="w"> </span>-h
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>Usage:<span class="w"> </span>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>remove<span class="w"> </span>wmw<span class="w"> </span><span class="o">[</span>-X<span class="o">]</span><span class="w"> </span>kubectl_flag...<span class="w"> </span>wm_workspace_name
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>remove<span class="w"> </span>wmw<span class="w"> </span>demo1
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>workspace.tenancy.kcp.io<span class="w"> </span><span class="s2">&quot;demo1&quot;</span><span class="w"> </span>deleted
</code></pre></div></p>
<p><div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>remove<span class="w"> </span>wmw<span class="w"> </span>demo1
</code></pre></div>
<div class="language-bash no-copy highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>Current<span class="w"> </span>workspace<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;root&quot;</span>.
</code></pre></div></p>
<h2 id="kubestellar-list-syncing-objects">kubestellar-list-syncing-objects<a class="headerlink" href="#kubestellar-list-syncing-objects" title="Permanent link">#</a></h2>
<p><strong>NOTE</strong>: This command works directly with the kcp server, it has not
  yet been converted to go through the space abstraction layer.</p>
<p>The <code>kubestellar-list-syncing-objects</code> command will list or watch one
kind of objects in the mailbox spaces. These are full (not summarized)
workload objects in the intermediate place between WDS' and WEC',
participating in downsync or upsync. The user of this command is not
very exposed to the mailbox spaces themselves; the command is directed
at the whole of this intermediate place and lists all of the requested
kind of objects there. The kind of objects to list/watch is given by
command line flags. In general the user has to also give the
"resource" that is roughly equivalent to the "kind", but that can be
defaulted in the easy case.</p>
<p>The output is suitable for piping to <code>jq</code> or <code>yq</code>. In the JSON case,
the output is one object per line (not pretty-printed). The default is
to output YAML.</p>
<p>This command will either do a one-shot listing or an ongoing
list+watch. In the latter case each object is extended with a field
named <code>Action</code> having a value of either <code>add</code>, <code>update</code>, or <code>delete</code>.</p>
<p>This command is given two Kubernetes client configurations.  One,
called "all", is for reading the chosen objects from all workspaces.
The other, called "parent", is for reading the mailbox Workspace
objects from their parent Workspace.</p>
<p>Following are the command line flags beyond the baseline golang flags.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="w">      </span>--api-group<span class="w"> </span>string<span class="w">                 </span>API<span class="w"> </span>group<span class="w"> </span>of<span class="w"> </span>objects<span class="w"> </span>to<span class="w"> </span>watch<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>is<span class="w"> </span>Kubernetes<span class="w"> </span>core<span class="w"> </span>group<span class="o">)</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">      </span>--api-kind<span class="w"> </span>string<span class="w">                  </span>kind<span class="w"> </span>of<span class="w"> </span>objects<span class="w"> </span>to<span class="w"> </span>watch
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">      </span>--api-resource<span class="w"> </span>string<span class="w">              </span>API<span class="w"> </span>resource<span class="w"> </span><span class="o">(</span>lowercase<span class="w"> </span>plural<span class="o">)</span><span class="w"> </span>of<span class="w"> </span>objects<span class="w"> </span>to<span class="w"> </span>watch<span class="w"> </span><span class="o">(</span>defaults<span class="w"> </span>to<span class="w"> </span>lowercase<span class="o">(</span>kind<span class="o">)</span>+<span class="s1">&#39;s&#39;</span><span class="o">)</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">      </span>--api-version<span class="w"> </span>string<span class="w">               </span>API<span class="w"> </span>version<span class="w"> </span><span class="o">(</span>just<span class="w"> </span>version,<span class="w"> </span>no<span class="w"> </span>group<span class="o">)</span><span class="w"> </span>of<span class="w"> </span>objects<span class="w"> </span>to<span class="w"> </span>watch<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;v1&quot;</span><span class="o">)</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">      </span>--json<span class="w">                             </span>indicates<span class="w"> </span>whether<span class="w"> </span>to<span class="w"> </span>output<span class="w"> </span>as<span class="w"> </span>lines<span class="w"> </span>of<span class="w"> </span>JSON<span class="w"> </span>rather<span class="w"> </span>than<span class="w"> </span>YAML
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">      </span>--watch<span class="w">                            </span>indicates<span class="w"> </span>whether<span class="w"> </span>to<span class="w"> </span>inform<span class="w"> </span>rather<span class="w"> </span>than<span class="w"> </span>just<span class="w"> </span>list
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>...
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">      </span>--all-cluster<span class="w"> </span>string<span class="w">               </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>cluster<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>chosen<span class="w"> </span>objects<span class="w"> </span><span class="k">in</span><span class="w"> </span>all<span class="w"> </span>clusters
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">      </span>--all-context<span class="w"> </span>string<span class="w">               </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>context<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>chosen<span class="w"> </span>objects<span class="w"> </span><span class="k">in</span><span class="w"> </span>all<span class="w"> </span>clusters<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;system:admin&quot;</span><span class="o">)</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">      </span>--all-kubeconfig<span class="w"> </span>string<span class="w">            </span>Path<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>file<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>chosen<span class="w"> </span>objects<span class="w"> </span><span class="k">in</span><span class="w"> </span>all<span class="w"> </span>clusters
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">      </span>--all-user<span class="w"> </span>string<span class="w">                  </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>user<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>chosen<span class="w"> </span>objects<span class="w"> </span><span class="k">in</span><span class="w"> </span>all<span class="w"> </span>clusters
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a>...
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">      </span>--parent-cluster<span class="w"> </span>string<span class="w">              </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>cluster<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>parent<span class="w"> </span>of<span class="w"> </span>mailbox<span class="w"> </span>workspaces
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">      </span>--parent-context<span class="w"> </span>string<span class="w">            </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>context<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>parent<span class="w"> </span>of<span class="w"> </span>mailbox<span class="w"> </span>workspaces<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="o">)</span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="w">      </span>--parent-kubeconfig<span class="w"> </span>string<span class="w">           </span>Path<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>file<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>parent<span class="w"> </span>of<span class="w"> </span>mailbox<span class="w"> </span>workspaces
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">      </span>--parent-user<span class="w"> </span>string<span class="w">                 </span>The<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>kubeconfig<span class="w"> </span>user<span class="w"> </span>to<span class="w"> </span>use<span class="w"> </span><span class="k">for</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>parent<span class="w"> </span>of<span class="w"> </span>mailbox<span class="w"> </span>workspaces
</code></pre></div>
<p>Following is an example of its usage; the ellipses show where this
document omits many lines for brevity.</p>
<div class="language-console highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="gp">$ </span>kubestellar-list-syncing-objects<span class="w"> </span>--api-group<span class="w"> </span>apps<span class="w"> </span>--api-kind<span class="w"> </span>ReplicaSet
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="go">---</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="go">apiVersion: apps/v1</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="go">kind: ReplicaSet</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="go">metadata:</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="go">...</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="go">status:</span>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="go">  availableReplicas: 1</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="go">  fullyLabeledReplicas: 1</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="go">  observedGeneration: 1</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="go">  readyReplicas: 1</span>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="go">  replicas: 1</span>
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a>
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="go">---</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="go">apiVersion: apps/v1</span>
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="go">kind: ReplicaSet</span>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="go">metadata:</span>
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="go">...</span>
<a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="go">status:</span>
<a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="go">  availableReplicas: 1</span>
<a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a><span class="go">  fullyLabeledReplicas: 1</span>
<a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a><span class="go">  observedGeneration: 1</span>
<a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="go">  readyReplicas: 1</span>
<a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="go">  replicas: 1</span>
</code></pre></div>
<h2 id="bootstrap">Bootstrap<a class="headerlink" href="#bootstrap" title="Permanent link">#</a></h2>
<p>This is a combination of some installation and setup steps, for use in
<a href="../../../Getting-Started/quickstart/">the
QuickStart</a>.</p>
<p>The script can be read directly from
https://raw.githubusercontent.com/kubestellar/kubestellar/main/bootstrap/bootstrap-kubestellar.sh
and does the following things.</p>
<ol>
<li>Downloads and installs kcp executables if they are not already
   evident on <code>$PATH</code>.</li>
<li>Downloads and installs kubestellar executables if they are not
   already evident on <code>$PATH</code>.</li>
<li>Ensures that kcp and KubeStellar are deployed (i.e., their
   processes are running and their initial configurations have been
   established) either as bare processes or as workload in a
   pre-existing Kubernetes cluster.</li>
</ol>
<p>This script accepts the following command line flags; all are optional.  The <code>--os</code>, <code>--arch</code>, and <code>--bind-address</code> flags are only useful when deploying as bare processes.  The deployment will be into a Kubernetes cluster if either <code>--external-endpoint</code> or <code>--openshift true</code> is given.</p>
<ul>
<li><code>--kubestellar-version $version</code>: specifies the release of
  KubeStellar to use.  When using a specific version, include the
  leading "v".  The default is the latest regular release, and the
  value "latest" means the same thing.</li>
<li><code>--kcp-version $version</code>: specifies the kcp release to use.  The
  default is the one that works with the chosen release of
  KubeStellar.</li>
<li><code>--openshift $bool</code>: specifies whether to the hosting cluster is an
  OpenShift cluster. The default value is <code>false</code>.</li>
<li><code>--endpoint-address $domain_name:$port</code>: specifies where an Ingress
  controller or OpenShift router is listening for incoming TLS
  connections from external (to the hosting cluster) clients of kcp
  and KubeStellar.</li>
<li><code>--os $OS</code>: specifies the operating system to use in selecting the
  executables to download and install.  Choices are <code>linux</code> and
  <code>darwin</code>.  Auto-detected if omitted.</li>
<li><code>--arch $IAS</code>: specifies the instruction set architecture to use in
  selecting the executables to download and install.  Choices are
  <code>amd64</code> and <code>arm64</code>.  Auto-detected if omitted.</li>
<li><code>--bind-address $IPADDR</code>: directs that the kcp server (a) write that
  address for itself in the kubeconfig file that it constructs and (b)
  listens only at that address.  The default is to pick one of the
  host's non-loopback addresses to write into the kubeconfig file and
  not bind a listening address.</li>
<li><code>--ensure-folder $install_parent_dir</code>: specifies the parent folder
  for downloads.  Will be <code>mkdir -p</code>.  The default is the current
  working directory.  The download of kcp, if any, will go in
  <code>$install_parent_dir/kcp</code>.  The download of KubeStellar will go in
  <code>$install_parent_dir/kubestellar</code>.</li>
<li><code>--host-ns $namespace_in_hosting_cluster</code>: specifies the namespace
  in the hosting cluster where the core will be deployed. Defaults to
  "kubestellar".</li>
<li><code>-V</code> or <code>--verbose</code>: increases the verbosity of output.  This is a
  binary thing, not a matter of degree.</li>
<li><code>-X</code>: makes the script <code>set -x</code> internally, for debugging.</li>
<li><code>-h</code> or <code>--help</code>: print brief usage message and exit.</li>
</ul>
<p>Here "install" means only to (a) unpack the distribution archives into
the relevant places under <code>$install_parent_dir</code> and (b) enhance the
<code>PATH</code>, and <code>KUBECONFIG</code> in the case of kcp, environment variables in
the shell running the script.  Of course, if you run the script in a
sub-shell then those environment effects terminate with that
sub-shell; this script also prints out messages showing how to update
the environment in another shell.</p>
<h2 id="internal-commands">Internal commands<a class="headerlink" href="#internal-commands" title="Permanent link">#</a></h2>
<p>The following commands are used by other commands but not expected to
be invoked by users.</p>
<h2 id="kubestellar-kube-bind">kubestellar-kube-bind<a class="headerlink" href="#kubestellar-kube-bind" title="Permanent link">#</a></h2>
<p>This command invokes <code>kubectl bind</code> to bind one resource into a space.
Also, this command will launch a kube-bind <code>konnector</code> process if
there is not already one running locally that was launched by an
earlier invocation of this command.</p>
<p>This command is one of those requiring <a href="#os-namespace-consistency">OS namespace
consistency</a>.</p>
<p>This command is given a kube client config for accessing the SMAS, via
the usual <code>kubectl</code> flags and <code>$KUBECONFIG</code>.</p>
<p>Usage synposis is as follows.</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>kubestellar-kube-bind<span class="w"> </span>flag...<span class="w"> </span>space_name<span class="w"> </span>resource
</code></pre></div>
<p>This command accepts the following flags.</p>
<ul>
<li><code>-h</code> or <code>--help</code>: prints usage and terminates successfully.</li>
<li><code>-X</code>: turn on echoing of script internals for debugging.</li>
<li>a <code>kubectl</code> flag (but not <code>-o</code> or <code>--output</code>).</li>
<li><code>--in-cluster</code>: as <a href="#in-cluster">usual</a>.</li>
</ul>
<p>If this command launches a <code>konnector</code> then this command will <code>mkdir
-p ${PWD}/konnector-$space_name</code> to hold the konnector's kubeconfig
input (named <code>kubeconfig</code>) and log file (named <code>log</code>).</p>
<p>Even if this invocation does not launch a konnector, this command will
dump some contents of <code>{$PWD}/konnector-${space_name}/log</code> when
reporting certain errors.</p>
<p>This command may also create a temporary kubeconfig file in <code>$PWD</code>.</p>
<h2 id="ensure-the-existence-of-a-space">Ensure the existence of a space<a class="headerlink" href="#ensure-the-existence-of-a-space" title="Permanent link">#</a></h2>
<p>This command will create a space if it does not already exist, and can
optionally output a kubeconfig for super-user access to that space.</p>
<p>This command is given a client configuration for accessing the Space
Management API Space (SMAS), via the usual ways for configuring
<code>kubectl</code>.</p>
<p>Synopsis:</p>
<div class="language-shell highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>kubectl<span class="w"> </span>kubestellar<span class="w"> </span>space<span class="w"> </span>ensure<span class="w"> </span>flag...<span class="w"> </span>space_name
</code></pre></div>
<p>This command accepts the following flags. The space name, output
kubeconfig, and SMAS kubeconfig and context must be supplied.</p>
<ul>
<li><code>-h</code> or <code>--help</code></li>
<li><code>-X</code></li>
<li>A <code>kubectl</code> flag (but not <code>-o</code> or <code>--output</code>).</li>
<li><code>--output-kubeconfig $pathname</code></li>
<li><code>--in-cluster</code>: relevant iff requesting a kubeconfig for the space</li>
</ul>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/kubestellar/kubestellar/issues/new?assignees=&labels=kind%2Fbug&projects=&template=bug_report.yaml&title=bug%3A+" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../environments/dev-env/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Developer Environment" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Previous
                </span>
                Developer Environment
              </div>
            </div>
          </a>
        
        
          
          <a href="../../PoC2023q4/outline/" class="md-footer__link md-footer__link--next" aria-label="Next: Details" rel="next">
            <div class="md-footer__title">
              <div class="md-ellipsis">
                <span class="md-footer__direction">
                  Next
                </span>
                Details
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "content.action.view", "navigation.indexes", "navigation.tabs", "navigation.path", "navigation.footer", "content.code.copy", "content.code.annotate"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.ce72ebac.min.js"></script>
      
        <script src="../../../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>